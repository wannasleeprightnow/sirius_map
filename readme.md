# Azimuth

## Терминология

*Пользователь* - юзер нашего приложения.

*Координаты* - система координат внутри нашего приложения в пикселях.

*Локация* - вершина графа.

*Вес* - длина гипотенузы между вершинами в пикселях.

## Принцип работы

### Определение местонахождения Пользователя

Мы будем использовать 3 способа определения местонахождения Пользователя:

 - Геопозиция
 - Выбор локации вручную
 - Фотография, которую сделал пользователь

В случае с фотографией необходимо учитывать изменчивость интерьера при проведении различных мероприятий - нейросеть не сможет определять такой интерьер, поэтому мы предлагаем следующее решение:
организаторам необходимо разместить в помещениях соответствующие матч-поинты, фотографии на который нейросеть сможет распознать.

### Определение места назначения

Пользователь может выбрать место назначения при помощи выпадающего списка и предсказывающего поиска.

### Отправка данных на сервер

Данные будут отправляться с клиента - смартфона Пользователя на сервер для их обработки.

### Определение местонахождения Пользователя по фотографии

...

### Построение маршрута

Карта университета Сириуса будет представлена в виде взвешенного ориентированного графа, помещенного в бд. Маршрут будет строиться при помощи этого графа и алгоритма Дейкстры.

Необходимо написать конвертер для перевода общепринятых координат в пиксели.

### Визуальное представление маршрута

Маршрут будет отрисован при помощи модуля matplotlib для python3.

## Дополнительная функциональность

### Возможность добавления комментариев

Пользователь может добавлять информацию об изменении обстановки в его местоположении в режиме реального времени. Длительность существования комментария - 1 час.

### Возможность добавления мероприятий

Пользователь, имеющий тип аккаунта "модератор", может добавлять мероприятия, указывая название, описание, локацию, время начала и конца.

## Архитектура

### Клиент - сервер
- Клиент
- - Отвечает за предоставление данных о местоположении Пользователя и месте назначения, а также за предоставление клиенту визульного представления маршрута.
- Сервер
- - Отвечает за определение местоположения Пользователя по фотографии, построение маршрута.

## Структура базы данных

База данных будет содержать следующие таблицы:

#### Пользователь
- Уникальный идентификатор
- Логин Пользователя
- Имя Пользователя
- Номер телефона Пользователя
- Пароль Пользователя
- Изображение Пользователя
- Тип Пользователя

#### Локация
- Уникальный идентификатор
- Название
- Описание
- Изображение

#### Координаты точек
- Уникальный идентификатор
- Координаты точки X
- Координаты точки Y
- Уникальный идентификатор Локации, если это Локация

#### Вес ребра графа
- Уникальный идентификатор точки А
- Уникальный идентификатор точки Б
- Вес*

#### Комментарий пользователя
- Уникальный идентификатор Пользователя
- Текст комментария
- Время публикации комментария
- Уникальный идентификатор точки

#### Мероприятие
- Уникальный идентификатор
- Название
- Уникальный идентификатор Локации*
- Описание
- Время начала
- Время окончания

## Стек технологий

Интерфейс будет создан с помощью Figma.

Приложение будет написано при помощи языка ... и фреймворка ...

Компьютерное зрение будет реализовано при помощи модуля opencv2 и языка Python.

Для визуализации маршрута будет использован модуль matplotlib и язык Python.

Реляционная база данных. В качестве СУБД будет выступать sqlite3. Также будет использоваться ORM SQLAlchemy.

## Перспективы

Сделать карту динамической.

Создать телеграм-бота с аналогичным функционалом.

Уточнить определение координат Пользователя при помощи использования вышек связи, сетей WI-FI и Bluetooth - Indoors Navigation Platform.

Использовать ИИ для построение графа по изображению карты.

Обучение нейросети для определения локации по 3Д-карте.

3Д навигация.

Реализовать интерфейс разработчика для работы с графами - создания и актуализации.
